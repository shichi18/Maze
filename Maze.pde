/*
2015/9/20
 */
 
float x;
float y;
float easing=0.03;
float r=12;
float[]a= new float[30];
float[]b= new float[30];
float[]c= new float[30];
int direction1=1;
int direction2=1;
int direction3=1;
int direction4=1;
int direction5=1;
int direction6=1;
int direction7=1;
float speed =0.5;//動く四角形の速さ
float s=450;
float t=550;
float u=750;
float v=950;
float w=100;
float f=100;
float g=100;
void setup() {
  x=50;
  y=675;
  size(1250, 700);
  background(220);
  noStroke();
  for (int i=0; i<30; i++) {
    a[i]=random(850, 1250); //変数とを用いて円の大きさ調整
    b[i]=random(250, 450);
    c[i]=random(10, 70);
  }
}
void draw() {
  if (mousePressed == true) { //クリックでカーソル消す
    noCursor();
  } else {
    cursor(HAND);
  }
  //ボールがマウスを追いかける
  background(220);
  //スタートとゴール
  fill(#FF0335);
  rect(0, 0, 100, 50); //ゴール
  rect(0, 650, 100, 50); //スタート
  fill(0);
  textSize(30);
  text("GOAL", 0, 0, 100, 100);
  text("START", 0, 650, 100, 100);
  if (mousePressed == true) { 
    //   background(220);
    x+=(mouseX-x)*easing;
    y+=(mouseY-y)*easing;
    fill(#1C792E);
    ellipse(x, y, r, r);
  } else {
    fill(#1C792E);
    ellipse(x, y, r, r);
  }
  //迷路の壁
  fill(#981F0C);
  rect(0, 50, 200, 50);
  rect(50, 100, 50, 50);
  rect(50, 500, 200, 50);
  rect(250, 50, 150, 50);
  rect(350, 100, 50, 200);
  rect(400, 200, 150, 50);
  rect(550, 50, 50, 200);
  rect(600, 50, 550, 50);
  rect(450, 0, 50, 150);
  rect(800, 100, 50, 450);
  rect(1200, 0, 50, 150);
  rect(900, 150, 350, 50);
  rect(850, 500, 350, 50);
  rect(150, 150, 100, 50);
  rect(150, 200, 50, 50);
  rect(50, 300, 250, 50);
  rect(250, 250, 50, 50);
  rect(450, 300, 200, 50);
  rect(400, 400, 50, 200);
  rect(0, 400, 400, 50);
  rect(650, 200, 50, 150);
  rect(700, 150, 50, 150);
  rect(250, 500, 50, 200);
  rect(500, 450, 50, 50);
  rect(550, 400, 50, 50);
  rect(600, 450, 50, 50);
  rect(450, 500, 50, 50);
  rect(650, 500, 50, 50);
  rect(700, 550, 50, 50);
  rect(750, 600, 200, 50);
  rect(550, 550, 50, 50);
  rect(500, 600, 150, 50);
  rect(450, 650, 250, 50);
  rect(0, 600, 200, 50);
  //右の方の円配列
  for (int j=0; j<30; j++) { 
    fill(#981F0C);
    noStroke();
    ellipse(a[j], b[j], c[j], c[j]);
  }
  //変数を使って四角形を動かす
  fill(#1D62CE);
  s +=speed*direction1; //移動する四角形①
  if ((s>550)||(s<450)) {
    direction1=-direction1;
  }
  rect(350, s, 50, 150);
  t +=speed*direction2; //移動する四角形②
  if ((t>700)||(t<550)) {
    direction2=-direction2;
  }
  rect(t, 350, 100, 50);
  u +=speed*direction3; //移動する四角形③
  if ((u>1100)||(u<750)) {
    direction3=-direction3;
  }
  rect(u, 550, 150, 50);
  v +=speed*direction4; //移動する四角形④
  if ((v>1100)||(v<950)) {
    direction4=-direction4;
  }
  rect(v, 600, 150, 50);
  w +=speed*direction5; //移動する四角形⑤
  if ((w>300)||(w<100)) {
    direction5=-direction5;
  }
  rect(0, w, 50, 100);
  f +=speed*direction6; //移動する四角形⑥
  if ((f>200)||(f<100)) {
    direction6=-direction6;
  }
  rect(100, f, 50, 100); //移動する四角形⑦
  g +=speed*direction7;
  if ((g>250)||(g<100)) {
    direction7=-direction7;
  }
  rect(300, f, 50, 150);
  //ゴールの判定
  if (x>=0&&x<=50) {
    if (y>=0&&y<=50) {
      background(225);
      textSize(400);
      textAlign(CENTER);
      text("GOAL", 0, 0, width, height);
      fill(0);
      textSize(100);
      textAlign(52);
      text("AGAIN", 525, 500, 200, 100);
    }
  }
  //円と衝突でスタートに戻る
  for (int j=0; j<30; j++) { 
    if ((x-a[j])*(x-a[j])+(y-b[j])*(y-b[j])<=(r-c[j])*(r-c[j])) {
      x=0;
      y=675;
    }
  }
  //壁との衝突でスタートに戻る
  if ((x>50&&x<100&&y>100-r&&y<150+r)||
    (x>50-r&&x<100+r&&y>100&&y<150)||
    ((50-x)*(50-x)+(100-y)*(100-y)<r*r)||
    ((100-x)*(100-x)+(100-y)*(100-y)<r*r)||
    ((100-x)*(100-x)+(150-y)*(150-y)<r*r)||
    ((50-x)*(50-x)+(150-y)*(150-y)<r*r)) { 
    x=0;
    y=675;
  }

  if ((x>0&&x<200&&y>50-r&&y<100+r)||
    (x>0-r&&x<200+r&&y>50&&y<100)||
    ((0-x)*(0-x)+(50-y)*(50-y)<r*r)||
    ((200-x)*(200-x)+(50-y)*(50-y)<r*r)||
    ((200-x)*(200-x)+(100-y)*(100-y)<r*r)||
    ((0-x)*(0-x)+(100-y)*(100-y)<r*r)) { 
    x=0;
    y=675;
  }
  if ((x>50&&x<250&&y>500-r&&y<550+r)||
    (x>50-r&&x<250+r&&y>500&&y<550)||
    ((50-x)*(50-x)+(500-y)*(500-y)<r*r)||
    ((250-x)*(250-x)+(500-y)*(500-y)<r*r)||
    ((250-x)*(250-x)+(550-y)*(550-y)<r*r)||
    ((50-x)*(50-x)+(550-y)*(550-y)<r*r)) { 
    x=0;
    y=675;
  }
  if ((x>250&&x<400&&y>50-r&&y<100+r)||
    (x>250-r&&x<400+r&&y>50&&y<100)||
    ((250-x)*(250-x)+(50-y)*(50-y)<r*r)||
    ((400-x)*(400-x)+(50-y)*(50-y)<r*r)||
    ((400-x)*(400-x)+(100-y)*(100-y)<r*r)||
    ((250-x)*(250-x)+(100-y)*(100-y)<r*r)) { 
    x=0;
    y=675;
  }
  if ((x>350&&x<400&&y>100-r&&y<300+r)||
    (x>350-r&&x<400+r&&y>100&&y<300)||
    ((350-x)*(350-x)+(100-y)*(100-y)<r*r)||
    ((400-x)*(400-x)+(100-y)*(100-y)<r*r)||
    ((400-x)*(400-x)+(300-y)*(300-y)<r*r)||
    ((350-x)*(350-x)+(300-y)*(300-y)<r*r)) { 
    x=0;
    y=675;
  }
  if ((x>400&&x<550&&y>200-r&&y<250+r)||
    (x>400-r&&x<550+r&&y>200&&y<250)||
    ((400-x)*(400-x)+(200-y)*(200-y)<r*r)||
    ((550-x)*(550-x)+(200-y)*(200-y)<r*r)||
    ((550-x)*(550-x)+(250-y)*(250-y)<r*r)||
    ((400-x)*(400-x)+(250-y)*(250-y)<r*r)) { 
    x=0;
    y=675;
  }
  if ((x>600&&x<1150&&y>50-r&&y<100+r)||
    (x>600-r&&x<1150+r&&y>50&&y<100)||
    ((600-x)*(600-x)+(50-y)*(50-y)<r*r)||
    ((1150-x)*(1150-x)+(50-y)*(50-y)<r*r)||
    ((1150-x)*(1150-x)+(100-y)*(100-y)<r*r)||
    ((600-x)*(600-x)+(100-y)*(100-y)<r*r)) { 
    x=0;
    y=675;
  }
  if ((x>450&&x<500&&y>0-r&&y<150+r)||
    (x>450-r&&x<500+r&&y>0&&y<150)||
    ((450-x)*(450-x)+(0-y)*(0-y)<r*r)||
    ((500-x)*(500-x)+(0-y)*(0-y)<r*r)||
    ((500-x)*(500-x)+(150-y)*(150-y)<r*r)||
    ((450-x)*(450-x)+(150-y)*(150-y)<r*r)) { 
    x=0;
    y=675;
  }
  if ((x>800&&x<850&&y>100-r&&y<550+r)||
    (x>800-r&&x<850+r&&y>100&&y<550)||
    ((800-x)*(800-x)+(100-y)*(100-y)<r*r)||
    ((850-x)*(850-x)+(100-y)*(100-y)<r*r)||
    ((850-x)*(850-x)+(550-y)*(550-y)<r*r)||
    ((800-x)*(800-x)+(550-y)*(550-y)<r*r)) { 
    x=0;
    y=675;
  }
  if ((x>1200&&x<1250&&y>0-r&&y<150+r)||
    (x>1200-r&&x<1250+r&&y>0&&y<150)||
    ((1200-x)*(1200-x)+(0-y)*(0-y)<r*r)||
    ((1250-x)*(1250-x)+(0-y)*(0-y)<r*r)||
    ((1250-x)*(1250-x)+(150-y)*(150-y)<r*r)||
    ((1200-x)*(1200-x)+(150-y)*(150-y)<r*r)) { 
    x=0;
    y=675;
  }
  if ((x>900&&x<1250&&y>150-r&&y<200+r)||
    (x>900-r&&x<1250+r&&y>150&&y<200)||
    ((900-x)*(900-x)+(150-y)*(150-y)<r*r)||
    ((1250-x)*(1250-x)+(150-y)*(150-y)<r*r)||
    ((1250-x)*(1250-x)+(200-y)*(200-y)<r*r)||
    ((900-x)*(900-x)+(200-y)*(200-y)<r*r)) { 
    x=0;
    y=675;
  }
  if ((x>850&&x<1200&&y>500-r&&y<550+r)||
    (x>850-r&&x<1200+r&&y>500&&y<550)||
    ((850-x)*(850-x)+(500-y)*(500-y)<r*r)||
    ((1200-x)*(1200-x)+(500-y)*(500-y)<r*r)||
    ((1200-x)*(1200-x)+(550-y)*(550-y)<r*r)||
    ((850-x)*(850-x)+(550-y)*(550-y)<r*r)) { 
    x=0;
    y=675;
  }
  if ((x>550&&x<250&&y>150-r&&y<200+r)||
    (x>550-r&&x<250+r&&y>150&&y<200)||
    ((550-x)*(550-x)+(150-y)*(150-y)<r*r)||
    ((250-x)*(250-x)+(150-y)*(150-y)<r*r)||
    ((250-x)*(250-x)+(200-y)*(200-y)<r*r)||
    ((550-x)*(550-x)+(200-y)*(200-y)<r*r)) { 
    x=0;
    y=675;
  }
  if ((x>150&&x<200&&y>200-r&&y<250+r)||
    (x>150-r&&x<200+r&&y>200&&y<250)||
    ((150-x)*(150-x)+(200-y)*(200-y)<r*r)||
    ((200-x)*(200-x)+(200-y)*(200-y)<r*r)||
    ((200-x)*(200-x)+(250-y)*(250-y)<r*r)||
    ((150-x)*(150-x)+(250-y)*(250-y)<r*r)) { 
    x=0;
    y=675;
  }
  if ((x>50&&x<300&&y>300-r&&y<350+r)||
    (x>50-r&&x<300+r&&y>300&&y<350)||
    ((50-x)*(50-x)+(300-y)*(300-y)<r*r)||
    ((300-x)*(300-x)+(300-y)*(300-y)<r*r)||
    ((300-x)*(300-x)+(350-y)*(350-y)<r*r)||
    ((50-x)*(50-x)+(350-y)*(350-y)<r*r)) { 
    x=0;
    y=675;
  }
  if ((x>250&&x<300&&y>250-r&&y<300+r)||
    (x>250-r&&x<300+r&&y>250&&y<300)||
    ((250-x)*(250-x)+(250-y)*(250-y)<r*r)||
    ((300-x)*(300-x)+(250-y)*(250-y)<r*r)||
    ((300-x)*(300-x)+(300-y)*(300-y)<r*r)||
    ((250-x)*(250-x)+(300-y)*(300-y)<r*r)) { 
    x=0;
    y=675;
  }
  if ((x>450&&x<650&&y>300-r&&y<350+r)||
    (x>450-r&&x<650+r&&y>300&&y<350)||
    ((450-x)*(450-x)+(300-y)*(300-y)<r*r)||
    ((650-x)*(650-x)+(300-y)*(300-y)<r*r)||
    ((650-x)*(650-x)+(350-y)*(350-y)<r*r)||
    ((450-x)*(450-x)+(350-y)*(350-y)<r*r)) { 
    x=0;
    y=675;
  }

  if ((x>400&&x<450&&y>400-r&&y<600+r)||
    (x>400-r&&x<450+r&&y>400&&y<600)||
    ((400-x)*(400-x)+(400-y)*(400-y)<r*r)||
    ((450-x)*(450-x)+(400-y)*(400-y)<r*r)||
    ((450-x)*(450-x)+(600-y)*(600-y)<r*r)||
    ((400-x)*(400-x)+(600-y)*(600-y)<r*r)) { 
    x=0;
    y=675;
  }
  if ((x>0&&x<400&&y>400-r&&y<450+r)||
    (x>0-r&&x<400+r&&y>400&&y<450)||
    ((0-x)*(0-x)+(400-y)*(400-y)<r*r)||
    ((400-x)*(400-x)+(400-y)*(400-y)<r*r)||
    ((400-x)*(400-x)+(450-y)*(450-y)<r*r)||
    ((0-x)*(0-x)+(450-y)*(450-y)<r*r)) { 
    x=0;
    y=675;
  }
  if ((x>650&&x<700&&y>200-r&&y<350+r)||
    (x>650-r&&x<700+r&&y>200&&y<350)||
    ((650-x)*(650-x)+(200-y)*(200-y)<r*r)||
    ((700-x)*(700-x)+(200-y)*(200-y)<r*r)||
    ((700-x)*(700-x)+(350-y)*(350-y)<r*r)||
    ((650-x)*(650-x)+(350-y)*(350-y)<r*r)) { 
    x=0;
    y=675;
  }
  if ((x>700&&x<750&&y>150-r&&y<300+r)||
    (x>700-r&&x<750+r&&y>150&&y<300)||
    ((700-x)*(700-x)+(150-y)*(150-y)<r*r)||
    ((750-x)*(750-x)+(150-y)*(150-y)<r*r)||
    ((750-x)*(750-x)+(300-y)*(300-y)<r*r)||
    ((700-x)*(700-x)+(300-y)*(300-y)<r*r)) { 
    x=0;
    y=675;
  }
  if ((x>250&&x<300&&y>500-r&&y<700+r)||
    (x>250-r&&x<300+r&&y>500&&y<700)||
    ((250-x)*(250-x)+(500-y)*(500-y)<r*r)||
    ((300-x)*(300-x)+(500-y)*(500-y)<r*r)||
    ((300-x)*(300-x)+(700-y)*(700-y)<r*r)||
    ((250-x)*(250-x)+(700-y)*(700-y)<r*r)) { 
    x=0;
    y=675;
  }
  if ((x>500&&x<550&&y>450-r&&y<500+r)||
    (x>500-r&&x<550+r&&y>450&&y<500)||
    ((500-x)*(500-x)+(450-y)*(450-y)<r*r)||
    ((550-x)*(550-x)+(450-y)*(450-y)<r*r)||
    ((550-x)*(550-x)+(500-y)*(500-y)<r*r)||
    ((500-x)*(500-x)+(500-y)*(500-y)<r*r)) { 
    x=0;
    y=675;
  }
  if ((x>550&&x<600&&y>400-r&&y<450+r)||
    (x>550-r&&x<600+r&&y>400&&y<450)||
    ((550-x)*(550-x)+(400-y)*(400-y)<r*r)||
    ((600-x)*(600-x)+(400-y)*(400-y)<r*r)||
    ((600-x)*(600-x)+(450-y)*(450-y)<r*r)||
    ((550-x)*(550-x)+(450-y)*(450-y)<r*r)) { 
    x=0;
    y=675;
  }
  if ((x>600&&x<650&&y>450-r&&y<500+r)||
    (x>600-r&&x<650+r&&y>450&&y<500)||
    ((600-x)*(600-x)+(450-y)*(450-y)<r*r)||
    ((650-x)*(650-x)+(450-y)*(450-y)<r*r)||
    ((650-x)*(650-x)+(500-y)*(500-y)<r*r)||
    ((600-x)*(600-x)+(500-y)*(500-y)<r*r)) { 
    x=0;
    y=675;
  }
  if ((x>450&&x<500&&y>500-r&&y<550+r)||
    (x>450-r&&x<500+r&&y>500&&y<550)||
    ((450-x)*(450-x)+(500-y)*(500-y)<r*r)||
    ((500-x)*(500-x)+(500-y)*(500-y)<r*r)||
    ((500-x)*(500-x)+(550-y)*(550-y)<r*r)||
    ((450-x)*(450-x)+(550-y)*(550-y)<r*r)) { 
    x=0;
    y=675;
  }
  if ((x>650&&x<700&&y>500-r&&y<550+r)||
    (x>650-r&&x<700+r&&y>500&&y<550)||
    ((650-x)*(650-x)+(500-y)*(500-y)<r*r)||
    ((700-x)*(700-x)+(500-y)*(500-y)<r*r)||
    ((700-x)*(700-x)+(550-y)*(550-y)<r*r)||
    ((650-x)*(650-x)+(550-y)*(550-y)<r*r)) { 
    x=0;
    y=675;
  }
  if ((x>700&&x<750&&y>550-r&&y<600+r)||
    (x>700-r&&x<750+r&&y>550&&y<600)||
    ((700-x)*(700-x)+(550-y)*(550-y)<r*r)||
    ((750-x)*(750-x)+(550-y)*(550-y)<r*r)||
    ((750-x)*(750-x)+(600-y)*(600-y)<r*r)||
    ((700-x)*(700-x)+(600-y)*(600-y)<r*r)) { 
    x=0;
    y=675;
  }
  if ((x>750&&x<950&&y>600-r&&y<650+r)||
    (x>750-r&&x<950+r&&y>600&&y<650)||
    ((750-x)*(750-x)+(600-y)*(600-y)<r*r)||
    ((950-x)*(950-x)+(600-y)*(600-y)<r*r)||
    ((950-x)*(950-x)+(650-y)*(650-y)<r*r)||
    ((750-x)*(750-x)+(650-y)*(650-y)<r*r)) { 
    x=0;
    y=675;
  }
  if ((x>550&&x<600&&y>550-r&&y<600+r)||
    (x>550-r&&x<600+r&&y>550&&y<600)||
    ((550-x)*(550-x)+(550-y)*(550-y)<r*r)||
    ((600-x)*(600-x)+(550-y)*(550-y)<r*r)||
    ((600-x)*(600-x)+(600-y)*(600-y)<r*r)||
    ((550-x)*(550-x)+(600-y)*(600-y)<r*r)) { 
    x=0;
    y=675;
  }
  if ((x>500&&x<650&&y>600-r&&y<650+r)||
    (x>500-r&&x<650+r&&y>600&&y<650)||
    ((500-x)*(500-x)+(600-y)*(600-y)<r*r)||
    ((650-x)*(650-x)+(600-y)*(600-y)<r*r)||
    ((650-x)*(650-x)+(650-y)*(650-y)<r*r)||
    ((500-x)*(500-x)+(650-y)*(650-y)<r*r)) { 
    x=0;
    y=675;
  }
  if ((x>450&&x<700&&y>650-r&&y<700+r)||
    (x>450-r&&x<700+r&&y>650&&y<700)||
    ((450-x)*(450-x)+(650-y)*(650-y)<r*r)||
    ((700-x)*(700-x)+(650-y)*(650-y)<r*r)||
    ((700-x)*(700-x)+(700-y)*(700-y)<r*r)||
    ((450-x)*(450-x)+(700-y)*(700-y)<r*r)) { 
    x=0;
    y=675;
  }
  if ((x>0&&x<200&&y>600-r&&y<650+r)||
    (x>0-r&&x<200+r&&y>600&&y<650)||
    ((0-x)*(0-x)+(600-y)*(600-y)<r*r)||
    ((200-x)*(200-x)+(600-y)*(600-y)<r*r)||
    ((200-x)*(200-x)+(650-y)*(650-y)<r*r)||
    ((0-x)*(0-x)+(650-y)*(650-y)<r*r)) { 
    x=0;
    y=675;
  }
  if ((x>350&&x<400&&y>s-r&&y<(150+s)+r)||
    (x>350-r&&x<400+r&&y>s&&y<150+s)||
    ((350-x)*(350-x)+(s-y)*(s-y)<r*r)||
    ((400-x)*(400-x)+(s-y)*(s-y)<r*r)||
    ((400-x)*(400-x)+(150+s-y)*(150+s-y)<r*r)||
    ((350-x)*(350-x)+(150+s-y)*(150+s-y)<r*r)) { 
    x=0;
    y=675;
  }
  if ((x>t&&x<t+100&&y>350-r&&y<400+r)||
    (x>t-r&&x<t+100+r&&y>350&&y<400)||
    ((t-x)*(t-x)+(350-y)*(350-y)<r*r)||
    ((t+100-x)*(t+100-x)+(350-y)*(350-y)<r*r)||
    ((t+100-x)*(t+100-x)+(400-y)*(400-y)<r*r)||
    ((t-x)*(t-x)+(400-y)*(400-y)<r*r)) { 
    x=0;
    y=675;
  }
  if ((x>u&&x<u+150&&y>550-r&&y<600+r)||
    (x>u-r&&x<u+150+r&&y>550&&y<600)||
    ((u-x)*(u-x)+(550-y)*(550-y)<r*r)||
    ((u+150-x)*(u+150-x)+(550-y)*(550-y)<r*r)||
    ((u+150-x)*(u+150-x)+(600-y)*(600-y)<r*r)||
    ((u-x)*(u-x)+(600-y)*(600-y)<r*r)) { 
    x=0;
    y=675;
  }
  if ((x>v&&x<v+150&&y>600-r&&y<650+r)||
    (x>v-r&&x<v+150+r&&y>600&&y<650+r)||
    ((v-x)*(v-x)+(600-y)*(600-y)<r*r)||
    ((v+150-x)*(v+150-x)+(600-y)*(600-y)<r*r)||
    ((v+150-x)*(v+150-x)+(650-y)*(650-y)<r*r)||
    ((v-x)*(v-x)+(650-y)*(650-y)<r*r)) { 
    x=0;
    y=675;
  }
  if ((x>0&&x<50&&y>w-r&&y<(w+100)+r)||
    (x>0-r&&x<50+r&&y>w&&y<w+100)||
    ((0-x)*(0-x)+(w-y)*(w-y)<r*r)||
    ((50-x)*(50-x)+(w-y)*(w-y)<r*r)||
    ((50-x)*(50-x)+(w+100-y)*(w+100-y)<r*r)||
    ((0-x)*(0-x)+(w+100-y)*(w+100-y)<r*r)) { 
    x=0;
    y=675;
  }
  if ((x>100&&x<150&&y>f-r&&y<(f+100)+r)||
    (x>100-r&&x<150+r&&y>f&&y<f+100)||
    ((100-x)*(100-x)+(f-y)*(f-y)<r*r)||
    ((150-x)*(150-x)+(f-y)*(f-y)<r*r)||
    ((150-x)*(150-x)+(f+100-y)*(f+100-y)<r*r)||
    ((100-x)*(100-x)+(f+100-y)*(f+100-y)<r*r)) { 
    x=0;
    y=675;
  }
  if ((x>300&&x<350&&y>f-r&&y<(150+f)+r)||
    (x>300-r&&x<350+r&&y>f&&y<f+150)||
    ((300-x)*(300-x)+(f-y)*(f-y)<r*r)||
    ((350-x)*(350-x)+(f-y)*(f-y)<r*r)||
    ((350-x)*(350-x)+(150+f-y)*(150+f-y)<r*r)||
    ((300-x)*(300-x)+(150+f-y)*(150+f-y)<r*r)) { 
    x=0;
    y=675;
  }
}  
